# Traudit Configuration Example

database:
  type: clickhouse
  dsn: "http://user:password@ip:port/traudit"
  batch_size: 50
  batch_timeout_secs: 5

services:
  # Receives traffic from FRP with v2 Proxy Protocol header, audits it,
  # strips the header, and forwards pure TCP to local SSHD.
  - name: "ssh"
    type: "tcp"
    binds:
      # Entry 1: Public traffic from FRP
      - addr: "0.0.0.0:2223"
        proxy: "v2"

      # Entry 2: LAN direct traffic (no Proxy Protocol)
      - addr: "0.0.0.0:2222"
        # no proxy

    forward_to: "127.0.0.1:22"

